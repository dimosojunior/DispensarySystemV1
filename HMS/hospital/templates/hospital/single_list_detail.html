
{% extends 'hospital/base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% load humanize %}
{% block title %}Patient Detail {% endblock %}


{% block content %}



<!DOCTYPE html>
<html>
<head>
  <title></title>
   <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  
  <style>
    form input{
      padding: 10px;
      border-radius: 10px;
      
      margin: 10px;
      font-size: 16px;
      color: white;
      font-weight: bold;
      
    }
    #tag{
      padding: 10px;
      border-radius: 10px;
      border: 1px solid green;
      margin: 10px;
      font-size: 16px;
      color: white;
      font-weight: bold;
      width: 50%;


    }

    .header-label{
  color: white;
  margin-top: 20px;
  margin-bottom: 10px;
  font-size: 16px;
  text-align: left;
}

 



input[type="checkbox"]{
  width: 100px;
  height: 100px;
}

  </style>
</head>
<body class="body-wrapper" style="">

<div class="container" style="margin-top: 80px;">
    {% if messages %}
      {% for message in messages %}
      

        <div class="alert alert-warning alert-dismissible fade show" role="alert">
  <strong>{{message}}</strong>
  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
</div>
      {% endfor %}
    {% endif %}





{% if querySet.paid == False %}



  <!--HIZI NICODE KWA AJILI YA KUACCEPT DAWA AMBZO VIEW YAKE NI ACCEPT MEDICINE-->  















   <!-- <form action="{% url 'accept_medicine' querySet.id %}" method="post">
      {% csrf_token %}

      <div style="display: none;">
      <center>
        {{form.name}}
      </center>
      </div>

       -->












   <section id="description-container" class="mb-4 mt-2" style="box-shadow: -10px 10px  10px rgba(0,0,0,0.3)">

    
 <center>       
<button type="button" class="btn btn-success" style="width: 50%;background-color: blue;margin-bottom: 10px;">
  Payment for:  {{querySet.name}}
</button>
</center> 


     <div class="table-responsive text-nowrap" >
          
          <table class="table table-bordered" style="box-shadow: -10px 10px  10px rgba(0,0,0,0.3)">
            <thead>
              <tr>
                
                <th scope="col">Medicine Name</th>
                
                <th scope="col">Description</th>

               
                
              </tr>
            </thead>
            <tbody>

            {% if querySet.line_one != '' %}    
            <tr>
              
                <td>{{querySet.line_one}}</td>
                <td>{{querySet.line_one_description}}</td> 
              
                                  
            </tr>
            {% endif %} 


         {% if querySet.line_two != '' %}
            <tr>
              
                <td>{{querySet.line_two}}</td>
                <td>{{querySet.line_two_description}}</td> 
                                  
            </tr>
            {% endif %} 


         {% if querySet.line_three != '' %}
            <tr>
              
                <td>{{querySet.line_three}}</td>
                <td>{{querySet.line_three_description}}</td> 
                                  
            </tr>
            {% endif %} 


          {% if querySet.line_four != '' %}
            <tr>
              
                <td>{{querySet.line_four}}</td>
                <td>{{querySet.line_four_description}}</td> 
                                  
            </tr>
            {% endif %} 


            {% if querySet.line_five != '' %}
            <tr>
              
                <td>{{querySet.line_five}}</td>
                <td>{{querySet.line_five_description}}</td> 
                                  
            </tr>
            {% endif %} 

            {% if querySet.line_six != '' %}
            <tr>
              
                <td>{{querySet.line_six}}</td>
                <td>{{querySet.line_six_description}}</td> 
                                  
            </tr>
            {% endif %}


             {% if querySet.line_seven != '' %}
            <tr>
              
                <td>{{querySet.line_seven}}</td>
                <td>{{querySet.line_seven_description}}</td> 
                                  
            </tr>
            {% endif %}


            {% if querySet.line_eight != '' %}
            <tr>
              
                <td>{{querySet.line_eight}}</td>
                <td>{{querySet.line_eight_description}}</td> 
                                  
            </tr>
            {% endif %}


             {% if querySet.line_nine != '' %}
            <tr>
              
                <td>{{querySet.line_nine}}</td>
                <td>{{querySet.line_nine_description}}</td> 
                                  
            </tr>
            {% endif %}


             {% if querySet.line_ten != '' %}
            <tr>
              
                <td>{{querySet.line_ten}}</td>
                <td>{{querySet.line_ten_description}}</td> 
                                  
            </tr>
            {% endif %}


             <tr style="background-color: green;color: white;"> 
              
                <td >Total Amount: Tsh.{{querySet.total|floatformat:0|intcomma}}/=</td>
                <td>
                  <button type="button" class="btn btn-primary" id="accept"   style="">
                  Continue
                </button>

                 <button type="button" class="btn btn-danger"  data-bs-toggle="modal" data-bs-target="#see-comment"   style="">
                  See Comment
                </button>

                </td> 

                                  
            </tr>


            





                        
            </tbody>
          </table>
     </div>
      </section>

      



<div id="update-form-container" class="row">


{% include 'hospital/PharmacistUpdateForm.html' %}


</div>













        <div class="row">

     

  <!--  <center>       
<button type="button" class="btn btn-success"  data-bs-toggle="modal" data-bs-target="#accept" style="">
  Accept Patient
</button>
</center>  -->


<!-- HII NI MODAL KWA AJILI YA KUADD DESCRIPTION NA QUANTITY -->





<!-- Modal -->
<div class="modal fade" id="see-comment" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content" style="background: linear-gradient(rgba(0,0,0,0.7),rgba(0,0,0,0.7)),url({% static 'hospital/assets/img/kkk.jpg' %});background-size: cover;color: white;box-shadow: -10px 10px  10px rgba(0,0,0,0.3);">
      <div class="modal-header">
        <h5 style="font-size: 18px;" class="modal-title" id="staticBackdropLabel">Patient Name: {{querySet.name}} </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" >
    <h3 style="font-size: 18px;color: red;font-weight: bold;">Review Doctor Comment</h3>
  <hr>

     <div class="col-md-12">
      {% if querySet.doctor_comments %}
       <p style="color: white;font-size: 16px;">{{querySet.doctor_comments}}</p>
       <h2 style="color: white;font-size: 14px;font-weight: bold;">Commented By: {{querySet.TakenBy}}</h2>
       {% else %}

       <h2 style="color: white;font-size: 16px;font-weight: bold;">No any comment</h2>

       {% endif %}

          </div>

         


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger" data-bs-dismiss="modal">Close</button>


    </div>
  </div>
</div><!---mwisho wa modal---->









</div><!--mwisho wa row ya kudisplay total and paid--->



<!-- </form>
 -->








{% endif %}








<!--HII NI KWA AJILI YA KUPRINT RECEIPT ZINAANZIA HAPA ----->

{% if querySet.paid == True %}
<div class="row" style="margin-top: 3cm;box-shadow: -10px 10px  10px rgba(0,0,0,0.3);">

<center>
  <div class="myimage-container">

    <img src="{% static 'hospital/assets/img/r.jfif' %}" style="border-radius: 30px;height: 6cm;width: 50%;">
    
  </div>
<a href="{% url 'print_patient_details' querySet.id %}" class="btn btn-primary btn-md my-4 " style="padding: 10px 20px 10px 20px;">Print Receipt</a>

</center>
</div>
{% endif %}
















</div>
<!--NA HZO CODES ZA KUPRINT RECEIPT ZINAISHIA HAPA--->







<script type="text/javascript">
  

// HIZI NI KWA AJILI YA KUHIDE LABELS


// JavaScript for hiding and showing containers
document.addEventListener('DOMContentLoaded', function () {
    // Hide 'after-clicked-container' initially
    // document.getElementById('year-Container').style.display = 'none';

    document.getElementById('update-form-container').style.display = 'none';

    document.getElementById('comment-container').style.display = 'none';
    

   
    // Add click event listener to 'semister 1-button'
    document.getElementById('accept').addEventListener('click', function () {

    // Show 'after-clicked-container'
    document.getElementById('description-container').style.display = 'none';

    document.getElementById('update-form-container').style.display = 'flex';
   

    });



     // Add click event listener to 'semister 1-button'
    document.getElementById('comment-line').addEventListener('click', function () {

    // Show 'after-clicked-container'
    

    document.getElementById('comment-container').style.display = 'flex';

    document.getElementById('comment-line').style.display = 'none';
   

    });



    //  document.getElementById('continue').addEventListener('click', function () {

    // // Show 'after-clicked-container'
    // document.getElementById('description-container').style.display = 'flex';

    // document.getElementById('update-form-container').style.display = 'none';
   

    // });






    });



</script>
</body>
</html>
{% endblock %}